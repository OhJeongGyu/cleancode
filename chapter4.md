### 2017. 2. 20 
# 주석
---
> 주석은 기껏해야 필요악이다. 프로그래밍 언어 자체가 표현력이 풍부하다면, 주석은 전혀 필요하지 않다. 

일반적으로, 코드만으로 모든 의도를 표현하지 못하는, 즉 실패를 만회하기 위해 **주석**을 사용한다. 주석을 사용하면 거짓말을 하기 될 가능성이 높아진다. (개발자가 주석까지 유지하고 보수하기가 힘들기 때문에!) 

코드는 변화하고 진화한다. 옮겨지기도 한다. 주석은 코드를 따라다니지 못 한다. 

> 부정확한 주석은 아예 없는 주석보다 훨씬 나쁘다. 

진실은 **코드**에만 존재한다. 주석을 줄이고, 코드를 최대한 깔끔하게(주석이 필요 없을 정도로) 정리하고 표현력을 강화하는 방향으로.. 노력을 해야 한다.

### 주석은 나쁜 코드를 보완하지 못한다.
모듈을 짜고 보니 읽기 어렵다. "주석을 달아야지!" ***No! No!*** 코드를 깨끗이 하라!

### 코드로 의도를 표현하라!
```
//직원에게 복지 혜택을 받을 자격이 있는지 검사
if((employee.flags & HOURLY_FLAG) && (employee.age > 65))
...
```
와 
```
if(employee.isEligibleForFullBenefits())
```

후자의 경우 처럼 코드를 통해 의도를 표현할 수 있다. 주석으로 달려는 설명을 코드로 표현하자. 

### 좋은 주석
최고의 주석은 주석을 달지 않을 방법을 찾아낸 주석이다. 하지만 어떤 주석은 유용한 경우도 있다.

***법적인 주석***
저작권, 소유권 등의 정보 

***정보를 제공하는 주석***
메서드의 반환 값을 주석으로 달아도 좋지만 메서드 이름에서 무엇을 반환하는지 알도록 하여 주석을 없애면 더 좋다.

```
// kk:mm:ss EEE, MMM dd, yyyy 형식이다.
Pattern timeMatcher = Pattern.compile("\\d*:\\d*~~~");
```
와 같이 정규식 패턴을 설명하는 주석은 유용하다. 

***의도를 설명하는 주석***
결정을 내리는 코드의 의도를 설명하는 주석.

***의미를 명료하게 밝히는 주석***
인수나 반환 값이 명확한 의미를 갖는 이름이면 이해하기 쉽지만, 표준 라이브러리와 같은 변경하지 못 하는 코드에 속한다면 의미를 주석으로 명확히 표현하자. 

***결과를 경고하는 주석***
테스트케이스 메서드에서 스레드 안전성이나 시간 관련 등의 경고성 주석은 적절하다.

```
//SimpleDataFormat은 스레드에 안전하지 못 하다.
//따라서 각 인스턴스를 독립적으로 생성해라.
SimpleDataFormat df = ~~~;
```

***TODO주석***
'앞으로 할 일'을 주석으로 남기면 편하다. 

***중요성을 강조하는 주석***

***공개 API에서 Javadocs***

### 나쁜 주석
> 대다수의 주석은 허술한 코드를 지탱하거나 엉성한 코드를 변명하거나 미숙한 결정을 합리화하는 것이다.

***주절거리는 주석***
```
try{
    ...
}catch(IOExeption ioe){
    // 속성 파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미이다.
}
```
위와 같은 주석은 무엇을 의미하는지 정확히 알기 어렵다. 어디서 메모리로 읽어드리는지, 언제 호출하는지, 나중에 구현을 하려는 것인지. 알 수 없다!

***같은 이야기를 중복하는 주석***

***오해할 여지가 있는 주석***
```
//this.closed가 true일 때 반환되는 유틸리티 메서드다.
//타임아웃에 도달하면 예외를 던진다.
public synchronized void waitForClose(fianl long timeoutMillis) throws Exceoption {
    if(!closed){
        wait(timeoutMillis);
        if(!closed)
            throw new Exception("~~~");
    }
}
```
위 주석은 중복과 오해의 여지를 함께 지니고 있다. 타임아웃에 도달했을 때 익셉셥을 던지는 것이 아니라 타임아웃에 도달했을 때에도 closed가 false일 때 예외를 던진다. 
> 코드보다 읽기 힘들고 오해의 소지를 가지고 있는 주석을 달지 말라!

***의무적으로 다는 주석***
모든 멤버와 메서드에 javadocs를?? 어리석은 짓이다.

***이력을 기록하는 주석***
예전에는 모듈을 편집할 때 상단에 편집 이력(log)를 남기는 것이 관례였으나 지금은 필요가 없다. **git**이 있으니깐.

***있으나 마나 한 주석***
```
/**
* 기본 생성자
**/
protected AnnualDateRule(){}

/** 월 중 일자 **/
private int dayOfMonth;
```
위와 같은 주석은 있으나 마나한 주석이다.

















